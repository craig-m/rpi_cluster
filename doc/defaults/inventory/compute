# Hosts ------------------------------------------------------------------------

[compute]
zeta rpi_racked="L3" ansible_host=zeta.local rpi_ip=192.168.6.XX rpi_mac=b8:27:eb:99:XX:XX
epsilon rpi_racked="L4" ansible_host=epsilon.local rpi_ip=192.168.6.XX rpi_mac=b8:27:eb:bf:XX:XX
gamma rpi_racked="R3" ansible_host=gamma.local rpi_ip=192.168.6.XX rpi_mac=b8:27:eb:ad:XX:XX
delta rpi_racked="R4" ansible_host=delta.local rpi_ip=192.168.6.XX rpi_mac=b8:27:eb:31:XX:XX

# Consul -----------------------------------------------------------------------

[consul:children]
consul_server
consul_client

[consul_server]
delta
epsilon
gamma

[consul_boot]
gamma

[consul_client]
zeta

# Keepalived -------------------------------------------------------------------

# The floating IP {{ rpi_loadbal_float_ip }} (Set in group_vars/all/vars) will
# exist on *at least* one of these.

[frontend:children]
loadbal_prime
loadbal_second

[loadbal_prime]
delta haproxy_cfg_file=compute

[loadbal_second]
epsilon haproxy_cfg_file=compute

# Haproxy ----------------------------------------------------------------------

[compute_api_back:children]
api_backend

[api_backend]
zeta
gamma

# Hadoop -----------------------------------------------------------------------

[hadoop:children]
hadoop_manager
hadoop_worker

[hadoop_manager]
gamma

[hadoop_worker]
gamma
zeta

# Docker -----------------------------------------------------------------------

[docker:children]
docker_master
docker_manager
docker_worker

[docker_master]
delta

[docker_manager]
epsilon

[docker_worker]
gamma
zeta

#-------------------------------------------------------------------------------
